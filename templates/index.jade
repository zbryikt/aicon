| {% load compressed %}
!!!5
html
  head
    meta(charset="utf-8")
    | {% compressed_css 'vendor' %}
    | {% compressed_css 'main' %}
    | {% compressed_js 'vendor' %}
    | {% compressed_js 'main' %}
  body(ng-app="main", ng-controller="main",ng-mousedown="mouse.select=true",ng-mouseup="mouse.select=false",sty)
    .ui.menu.red.inverted.fixed.main
      .inner-menu(style="width:1024px;margin:0 auto")
        a.active.item
          i.home.icon
          | Home
        a.item(ng-click="gh.new.init()")
          i.icon.cloud.upload
          | upload
        a.item(ng-click="buildFont()")
          i.icon.disk.download
          | make font
        .right.menu
          a.item
            i.icon.sign.in.icon
            | Sign in
          a.item
            i.icon.add.sign.box.icon
            | Sign up
    #banner
      #bnr-h1
        | AICON
        small /`aikon/
      #bnr-h2 create, build and share your icon font online
    #content
      .ib(style="padding-top: 20px")  
      | {% include 'glyph/new-modal.jade' %}
      .ui.icon.input.large.fluid
        input(type="text",placeholder="Search Icons...",ng-model="searchKeyword")
        i.search.icon

      .ui.small.secondary.menu
        a.active.item
          i.icon.trophy
          | official
        a.item
          i.icon.time
          | latest
        a.item
          i.icon.user
          | by author
        a.item
          i.icon.pencil
          | my upload
        .right.menu
          .ui.dropdown.item.iconset-list
            i.icon.open.folder
            | {% verbatim %}
            | selections - {{ st.name }}
            small ({{st.len}})
            | {% endverbatim %}
            i.dropdown.icon
            .menu.iconset
              a.item(ng-click="st.new()")
                icon(src="default/new.svg")
                | create new set
              | {% verbatim %}
              a.item(ng-repeat="s in st.sets",ng-click="st.load(s)",ng-class="{true:'active',false:''}[st.cur.pk==s.pk]")
                icon(src="{{s.cover}}",del="st.rmset(e,s)")
                | {{ s.name }}
                small ( {{ s.icons.length }} )
              | {% endverbatim %}
          a.item(ng-click="st.toggle()",style="width:87px;text-align:right")
            span(ng-show="st.show")
              | hide
              i.icon.arrow.up
            span(ng-show="!st.show")
              | show
              i.icon.arrow.down

      #icon-hint.ui.pointing.below.label
        | "arrow", by
        a(href="#") tkirby
        |  @ 
        a(href="#") CC-BY3.0
        | .
        a(href="#") detail
        i.icon.double.angle.right
        | 
      | {% verbatim %}
      .ico-li.iconset
        .ui.divider
        .ctrls(ng-show="st.show")
          span.name {{ st.name }}
          i.icon.edit.sign.has-popup(data-content="edit name")
          i.icon.trash.has-popup(ng-click="st.rmset(e, st.cur)",data-content="remove set")
        .ellipsis(ng-click="st.toggle()")
          i.icon.ellipsis.horizontal
          span your selection
          i.icon.ellipsis.horizontal
        .ib
          .when-empty(ng-show="st.len==0") ( empty )
          .ico-li-it(ng-repeat="g in st.list")
            icon(src="{{g.svg}}",del="st.add(g)")
        .ui.divider
      .ui.ribbon.label.large.red aicon default
      .ui.label.pointing.left.small(style="margin-left: -25px")
        | by
        .ui.dropdown
          .text name
          i.icon.dropdown
          .menu
            .item author
            .item time
            .item license

      br
      .ico-li-it(ng-repeat="g in gh.list",ng-click="st.add(g)",ng-class="{true:'added',false:''}[g.added]",ng-mouseover="mouse.over($event,g)")
        icon.ico-main(src="{{g.svg}}")
      | {% endverbatim %}
      br(style="clear:both")
      br
      .ui.ribbon.label.red editor's choice
      br
      | {% verbatim %}
      .ico-li-it(ng-repeat="g in gh.list",ng-click="st.add(g)",ng-class="{true:'added',false:''}[g.added]",ng-mouseover="mouse.over($event,g)")
        icon.ico-main(src="{{g.svg}}")
      | {% endverbatim %}
    #footer
      | 愛 Aicon
    //-
      #header
        img#logo(src="/s/img/logo.png")
        | {% verbatim %}
        div(style="display: inline-block;")
          .ico-li#iconset
            .ico-li-it(ng-show="st.sets.len==0")
              icon(src="default/login.svg")
              .name login now to
              br
              .count save your iconset!
            .ico-li-it.short(ng-show="st.sets.len!=0",ng-click="st.new()")
              icon(src="default/new.svg")
              .count
              br
              .count
            .ico-li-it(ng-repeat="s in st.sets",ng-click="st.load(s)",ng-class="{true:'active',false:''}[st.cur.pk==s.pk]")
              icon(src="{{s.cover}}",del="st.rmset(e,s)")
              .name {{s.name}}
              br
              .count {{s.icons.length}} icons
        | {% endverbatim %}
    //-
      #menu-bar
        input#iconset-name(type="text",value="圖示集", placeholder="(圖示集的名稱)",ng-model="st.name")
        span(style="font-weight:900;font-size: 18px")
          i.glyphicon.glyphicon-edit(onclick="$('#iconset-name').focus();")
          button.btn.btn-link(ng-click="buildFont()") 建立字型
          button.btn.btn-link(ng-click="st.save()") 儲存快選單
          button.btn.btn-link(ng-click="gh.new.init()") 上傳圖示
          //-button.btn.btn-link(data-toggle="modal",href="#glyph-uploader") 上傳圖示
        input.form-control(style="height: 30px;vertical-align:baseline;display:inline-block;width: 300px",type="text",ng-model="searchKeyword",placeholder="搜尋圖示...")
        span#menu-func
          i.glyphicon.glyphicon-th(ng-click="ui.detail=false",ng-class="{true:'',false:'sel'}[ui.detail]")
          i.glyphicon.glyphicon-th-large(ng-click="ui.detail=true",ng-class="{true:'sel',false:''}[ui.detail]")
        span.acc-panel.pull-right
          | {% if user.is_authenticated %}
          | {{ user.username }}
          span 登出
          | {% else %}
          a(href="/accounts/facebook/login/?process=login") 用臉書帳號登入
          | {% endif %}

    //-
      .ico-li.chosen
        #choose-hint.ico-li-it(ng-show="!st.len")
          icon(src="svg/default.svg")
        | {% verbatim %}
        .ico-li-it(ng-repeat="g in st.list")
          icon(src="{{g.svg}}",del="st.add(g)")
        | {% endverbatim %}
      | {% include 'glyph/new-modal.jade' %}
      | {% include 'glyph/edit-modal.jade' %}
      | {% include 'license-modal.jade' %}
      | {% verbatim %}
      .ico-li.small.all(ng-show="!ui.detail")
        .ico-li-it(ng-repeat="g in gh.list",ng-click="st.add(g)",ng-class="{true:'added',false:''}[g.added]",ng-mouseover="mouse.over($event,g)")
          icon.ico-main(src="{{g.svg}}")
      .ico-li.all(ng-show="ui.detail")
        .ico-li-it(ng-repeat="g in gh.list",ng-click="st.add(g)",ng-class="{true:'added',false:''}[g.added]")
          .icons
            icon.ico-main(src="{{g.svg}}")
            //-
              .ib
                icon.ico1(src="{{g.svg}}")
                icon.ico2(src="{{g.svg}}")
                br
                icon.ico3(src="{{g.svg}}")
                icon.ico4(src="{{g.svg}}")
          .infos
            .text
              .name {{g.name}}
              .author
                | by
                a(href="{{g.author_url}}#") {{g.author}}
                |  @ 
                a(href="{{g.license_url}}#") {{g.license.name}}
            .tags
              .tag(ng-repeat="t in g.tags") {{t}}
            .action
              button.btn.btn-success.btn-sm.detail(ng-show="!g.added") Add
              button.btn.btn-danger.btn-sm.detail(ng-show="g.added") Remove
              button.btn.btn-primary.btn-sm.detail(ng-click="gh.edit.init($event,g);") Detail
          | {% endverbatim %}
      #footer
        | 愛 Aicon
